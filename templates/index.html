<html>
    <body>
        <div>
            <a href="{{ url_for('admin.index') }}"><h1>Go to admin!</h1></a>
        </div>
       <style>
       #map {
        height: 400px;
        width: 100%;
       }
    </style>



    <div id="piano_data">
        <ul>
        {% for piano in pianos %}
            <li>{{ piano.name }}</li>
            <li>{{ piano.geolat }}</li>
            <li>{{ piano.geolong }}</li>
            <br>
        {% endfor %}
        </ul>
    </div>

    <div id="map"></div>
    <script>
      function initMap() {
        var psu = {lat: 54.76, lng: -112.36};
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 4,
          center: psu
        });
        var marker = new google.maps.Marker({
          position: psu,
          map: map
        });
      }

      document.getElementById("get_location").onclick = function(){
            var success = function(pos){
                var lat = pos.coords.latitude,
                long = pos.coords.longitude,
                coords = lat + ", " + long;
                alert(coords);
            }
            var error = function(pos){
                alert("?")
                }
            if(geolocation.init()){
                geoPosition.getCurrentPosition(success,error)
            }
            return false;
        }

    </script>
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCIegMYBA5X870rGRqwORr5iCgYD2BLyyE&callback=initMap">
    </script>
    </body>
</html>